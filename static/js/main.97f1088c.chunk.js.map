{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js"],"names":["Searchbar","state","query","handleSearch","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","activeImages","onClick","data-source","src","alt","ImageGallery","images","map","img","id","Button","searchImages","Loader","color","height","width","timeout","Modal","handleKeyDown","code","onModal","handleCloseModal","currentTarget","window","addEventListener","removeEventListener","App","page","searchQuery","loader","error","showModal","onChangeQuery","axios","get","then","prevState","data","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","openModal","console","log","image","dataset","source","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.97f1088c.chunk.js","sourcesContent":["import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleSearch = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: '' });\n  };\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            value={this.state.query}\n            onChange={this.handleSearch}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\n// Searchbar.propTypes = {};\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, activeImages }) => {\n  return (\n    <li onClick={activeImages} className=\"ImageGalleryItem\">\n      <img\n        className=\"ImageGalleryItem-image\"\n        data-source={largeImageURL}\n        src={webformatURL}\n        alt=\"img\"\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  activeImages: PropTypes.func,\n};\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nconst ImageGallery = ({ images, activeImages }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(img => (\n        <ImageGalleryItem\n          key={img.id}\n          webformatURL={img.webformatURL}\n          largeImageURL={img.largeImageURL}\n          activeImages={activeImages}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array,\n  activeImages: PropTypes.func,\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n};\n\nexport default ImageGallery;\n","import React from 'react';\n\nconst Button = ({ searchImages }) => {\n  return (\n    <button className=\"Button btn\" onClick={searchImages} type=\"submit\">\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport Spiner from 'react-loader-spinner';\n\nconst Loader = () => {\n  return (\n    <Spiner\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={70}\n      width={70}\n      timeout={3000} //3 secs\n    />\n  );\n};\n\nexport default Loader;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onModal();\n    }\n  };\n\n  handleCloseModal = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onModal();\n    }\n  };\n\n  render() {\n    const { largeImageURL } = this.props;\n    return (\n      <div className=\"Overlay\" onClick={this.handleCloseModal}>\n        <div className=\"Modal\">\n          <img src={largeImageURL} alt=\"big img\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  onModal: PropTypes.func,\n  largeImageURL: PropTypes.string,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    page: 1,\n    searchQuery: '',\n    loader: false,\n    error: false,\n    showModal: false,\n    largeImageURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.searchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, page: 1, images: [] });\n  };\n\n  searchImages = () => {\n    const { page, searchQuery } = this.state;\n    this.setState({ loader: true });\n    axios\n      .get(\n        `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=18687503-307ceda9bac4583df41d15aed&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n      .then(img => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...img.data.hits],\n          page: prevState.page + 1,\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loader: false }));\n  };\n\n  openModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  activeImages = ({ target }) => {\n    console.log(target);\n    const image = target.dataset.source;\n    this.setState({\n      largeImageURL: image,\n    });\n    this.openModal();\n  };\n\n  render() {\n    const { images, loader, error, showModal, largeImageURL } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery images={images} activeImages={this.activeImages} />\n        {images.length > 0 && !loader && <Button searchImages={this.searchImages} />}\n        {loader && <Loader />}\n        {error && <h1>Sorry error...</h1>}\n        {showModal && <Modal onModal={this.openModal} largeImageURL={largeImageURL} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}